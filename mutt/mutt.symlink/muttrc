# Folder hooks
#folder-hook 'account.gmail.petter.rodhelind' 'source ~/.mutt/gmail.petter.rodhelind'

# Default account
source ~/.mutt/account.gmail.petter.rodhelind

# Keybindings for gmail folders
bind editor <space> noop
macro index ,i "<change-folder>=INBOX<enter>" "Go to inbox"
macro index ,a "<change-folder>=[Gmail]/All Mail<enter>" "Go to all mail"
bind index ,f imap-fetch-mail

# get colors
#source ~/.mutt/colors/gotbletu
color status green default

# Default text editor
set editor = "$EDITOR"

# mailcap file
set mailcap_path = ~/.mutt/mailcap

# charset
set charset = "utf-8"
set assumed_charset = "utf-8"
set send_charset = "utf-8"

# check for new mail
set mail_check = 120    # seconds
set timeout = 0

# fix for sending via smtp on yosemite
set smtp_authenticators = 'gssapi:login'

# basic config
set move = no           # don't move read messages
set include             # include message in reply
set wait_key = no       # don't wait for key press after running external cmd
set quit = ask-yes      # ask for quit
set delete = yes        # don't ask for purging msgs marked for deletion
set confirmappend = no  # don't ask when appending msgs to existing mailboxes
set mark_old = no       # just use read/new and skip the "old new" mark

# change folder
macro index y "<change-folder>?" "change into a folder in the list"

# saner copy/move dialogs
macro index C "<copy-message>?" "copy a message to a mailbox"
macro index M "<save-message>?" "move a message to a mailbox"

# header stuff
ignore *
unignore date: from: to: cc: subject:
unhdr_order *
hdr_order date: to: cc: from: subject:

# sorting
set sort = "threads"
set sort_aux = "reverse-last-date-received"

# status bar
set status_chars  = " *%A"
set status_format = "───[ Folder: %f ]───[%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]───%>─%?p?( %p postponed )?───"

# index viewing
set date_format = "%y-%m-%d"
set index_format = "[%Z]   %D   %-35.35F  |  %s"

# index key bindings
bind index gg       first-entry
bind index G        last-entry
bind index R        group-reply
bind index <tab>    sync-mailbox
bind index <space>  collapse-thread

# pager viewing
alternative_order text/plain text/enriched text/html
set markers = no            # don't put + on wrapped lines
set pager_index_lines = 10  # show 10 above selected email
set pager_context = 3
set pager_stop              # don't go to next msg automagically
set menu_scroll             # scroll one line and not full page
set tilde                   # show ending blank lines with ~ like in vi

# pager key bindings
bind pager k        previous-line
bind pager j        next-line
bind pager gg       top
bind pager G        bottom
bind pager R        group-reply
bind pager <Return> exit

# view attachments properly
#bind attach <return> view-mailcap

# autoview
auto_view text/html

# compose view options
set realname = "Petter Rodhelind"    # who am i?
set envelope_from                    # which from?
set sig_dashes                       # dashes before sig
set edit_headers                     # show headers when composing
set fast_reply                       # skip to compose when replying
set askcc                            # ask for CC:
set fcc_attach                       # save attachments with the body
unset mime_forward                   # forward attachments as part of body
set forward_format = "Fwd: %s"       # format of subject when forwarding
set forward_decode                   # decode when forwarding
set attribution = "On %d, %n wrote:" # format of quoting header
set reply_to                         # reply to Reply to: field
set reverse_name                     # reply as whomever it was to
set include                          # include message in replies
set forward_quote                    # include message in forwards
